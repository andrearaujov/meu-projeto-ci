name: Pipeline de CI - Testes

# Define quando este workflow deve rodar
on:
  push: # Roda em qualquer 'push' para qualquer branch
  pull_request: # Roda em qualquer abertura ou atualização de 'pull request'

# Define os "trabalhos" (jobs) que a pipeline executará
jobs:
  # O nome do nosso job (pode ser qualquer nome)
  build_and_test:
    # A máquina virtual que o GitHub usará para rodar o job
    runs-on: ubuntu-latest

    # Os passos (steps) que o job executará em ordem
    steps:
      #Baixa o código do seu repositório para a máquina virtual
      - name: Baixar o código (Checkout)
        uses: actions/checkout@v4

      #Configura o ambiente Node.js na máquina virtual
      - name: Configurar Node.js v18
        uses: actions/setup-node@v4
        with:
          node-version: '18' # Você pode mudar para a versão que preferir

      #Instala as dependências do projeto
      - name: Instalar dependências
        run: npm install

      #Roda os testes
      - name: Rodar os testes
        run: npm test